{% extends "layout.html" %}

{% block title %}Profile - Pufferfish{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/profile.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/resume_viewer.css') }}">
{% endblock %}

{% block content %}
<div class="resume-viewer-container">

  <!-- Column 1: Previous Button -->
  <div class="nav-col">
    <button id="prev-btn" class="nav-btn secondary outline" disabled>&lt;</button>
  </div>

  <!-- Column 2: PDF Viewer -->
  <main id="pdf-viewer">
    <div id="viewer" class="pdfViewer"></div>
  </main>

  <!-- Column 3: Comments Sidebar -->
  <aside id="comments-sidebar">
    <div class="reviewer-header">
      <small>Reviewer</small>
      <h5 id="reviewer-name" style="margin:0;">Loading...</h5>
    </div>

    <h6>Comments</h6>
    <div id="comments-list"></div>
  </aside>

  <!-- Column 4: Next Button -->
  <div class="nav-col">
    <button id="next-btn" class="nav-btn secondary outline" disabled>&gt;</button>
  </div>

</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
<script>
  window.RESUME_CONFIG = {
    documentId: "{{ resume_path }}",
    reviews: {{ reviews | tojson }}
  };
</script>
<script src="{{ url_for('static', filename='js/profile_resume.js') }}"></script>
{% endblock %}