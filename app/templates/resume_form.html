{% extends "layout.html" %}

{% block title %}Resume Form - Puffer Fish{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/resume_form.css') }}">
{% endblock %}

{% block content %}
<div class="resume-form-container">
    <h1 class="form-title">Resume submission</h1>
    
    <form id="resumeForm" method="POST" action="{{ url_for('resume_form.resume_form') }}">
        <!-- Personal Contact Info -->
        <section class="form-section">
            <h2 class="section-title">Personal Contact Info</h2>
            <div class="form-row">
                <div class="form-group">
                    <label for="first_name">First Name:<span class="required">*</span></label>
                    <input type="text" id="first_name" name="first_name" required>
                </div>
                <div class="form-group">
                    <label for="last_name">Last Name:<span class="required">*</span></label>
                    <input type="text" id="last_name" name="last_name" required>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="email">Email:<span class="required">*</span></label>
                    <input type="email" id="email" name="email" required 
                           pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}"
                           title="Please enter a valid email address (e.g., user@example.com)">
                </div>
                <div class="form-group">
                    <label for="phone">phone number:</label>
                    <input type="tel" id="phone" name="phone">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="linkedin">Linkedin:</label>
                    <input type="text" id="linkedin" name="linkedin" placeholder="linkedin.com/in/yourprofile or https://linkedin.com/in/yourprofile">
                </div>
                <div class="form-group">
                    <label for="website">Website:</label>
                    <input type="text" id="website" name="website" placeholder="yourwebsite.com or https://yourwebsite.com">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group full-width">
                    <label for="address">Address:</label>
                    <input type="text" id="address" name="address">
                </div>
            </div>
        </section>

        <!-- Introduction -->
        <section class="form-section">
            <h2 class="section-title">Introduction:</h2>
            <div class="form-row">
                <div class="form-group full-width">
                    <label for="introduction">Introduction:</label>
                    <textarea id="introduction" name="introduction" rows="4" placeholder="Tell us about yourself..."></textarea>
                </div>
            </div>
        </section>

        <!-- Education -->
        <section class="form-section" id="educationSection">
            <h2 class="section-title">School Info:</h2>
            <div class="education-entry" data-index="0">
                <div class="form-row">
                    <div class="form-group">
                        <label>School:<span class="required">*</span></label>
                        <input type="text" name="education_0_school" required>
                    </div>
                    <div class="form-group">
                        <label>School Location:</label>
                        <input type="text" name="education_0_location">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Degree:</label>
                        <input type="text" name="education_0_degree" placeholder="e.g., BS, MS, PhD">
                    </div>
                    <div class="form-group">
                        <label>Field of study:</label>
                        <input type="text" name="education_0_field" placeholder="e.g., Computer Science">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Graduation Date:</label>
                        <div class="date-inputs">
                            <select name="education_0_graduation_month" class="date-select">
                                <option value="">Month</option>
                                <option value="01">January</option>
                                <option value="02">February</option>
                                <option value="03">March</option>
                                <option value="04">April</option>
                                <option value="05">May</option>
                                <option value="06">June</option>
                                <option value="07">July</option>
                                <option value="08">August</option>
                                <option value="09">September</option>
                                <option value="10">October</option>
                                <option value="11">November</option>
                                <option value="12">December</option>
                            </select>
                            <input type="number" name="education_0_graduation_year" class="date-input" placeholder="Year" min="1900" max="2100">
                        </div>
                    </div>
                </div>
            </div>
            <button type="button" class="btn btn-secondary" id="addEducation">Add another education</button>
        </section>

        <!-- Work Experience -->
        <section class="form-section" id="experienceSection">
            <h2 class="section-title">Work experience:</h2>
            <div class="experience-entry" data-index="0">
                <div class="form-row">
                    <div class="form-group">
                        <label>Title:<span class="required">*</span></label>
                        <input type="text" name="experience_0_title" required>
                    </div>
                    <div class="form-group">
                        <label>Company:<span class="required">*</span></label>
                        <input type="text" name="experience_0_company" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group full-width">
                        <label>Location:</label>
                        <input type="text" name="experience_0_location">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Start Date:</label>
                        <div class="date-inputs">
                            <select name="experience_0_start_month" class="date-select">
                                <option value="">Month</option>
                                <option value="01">January</option>
                                <option value="02">February</option>
                                <option value="03">March</option>
                                <option value="04">April</option>
                                <option value="05">May</option>
                                <option value="06">June</option>
                                <option value="07">July</option>
                                <option value="08">August</option>
                                <option value="09">September</option>
                                <option value="10">October</option>
                                <option value="11">November</option>
                                <option value="12">December</option>
                            </select>
                            <input type="number" name="experience_0_start_year" class="date-input" placeholder="Year" min="1900" max="2100">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>End Date:</label>
                        <div class="date-inputs">
                            <select name="experience_0_end_month" class="date-select">
                                <option value="">Month</option>
                                <option value="01">January</option>
                                <option value="02">February</option>
                                <option value="03">March</option>
                                <option value="04">April</option>
                                <option value="05">May</option>
                                <option value="06">June</option>
                                <option value="07">July</option>
                                <option value="08">August</option>
                                <option value="09">September</option>
                                <option value="10">October</option>
                                <option value="11">November</option>
                                <option value="12">December</option>
                            </select>
                            <input type="number" name="experience_0_end_year" class="date-input" placeholder="Year" min="1900" max="2100">
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="experience_0_currently_working" value="true">
                            I currently work here
                        </label>
                    </div>
                </div>
                <div class="bullets-container" data-entry-index="0">
                    <div class="form-row" data-bullet-index="0">
                        <div class="form-group full-width">
                            <label>Bullet point:</label>
                            <input type="text" name="experience_0_bullet_0" placeholder="Describe your responsibilities and achievements...">
                        </div>
                        <div class="form-group" style="flex: 0 0 auto; align-self: flex-end; padding-top: 1.5rem;">
                            <button type="button" class="btn btn-small" onclick="removeBulletPoint(this, 0, 'experience')">Delete</button>
                        </div>
                    </div>
                    <div class="form-row" data-bullet-index="1">
                        <div class="form-group full-width">
                            <label>Bullet point:</label>
                            <input type="text" name="experience_0_bullet_1" placeholder="Describe your responsibilities and achievements...">
                        </div>
                        <div class="form-group" style="flex: 0 0 auto; align-self: flex-end; padding-top: 1.5rem;">
                            <button type="button" class="btn btn-small" onclick="removeBulletPoint(this, 0, 'experience')">Delete</button>
                        </div>
                    </div>
                </div>
                <button type="button" class="btn btn-small" onclick="addBulletPoint(0, 'experience')">Add bullet point</button>
            </div>
            <button type="button" class="btn btn-secondary" id="addExperience">Add Experience</button>
        </section>

        <!-- Skills -->
        <section class="form-section" id="skillsSection">
            <h2 class="section-title">Skills:</h2>
            <div class="skill-entry" data-index="0">
                <div class="form-row">
                    <div class="form-group">
                        <label>Skill Category:</label>
                        <input type="text" name="skill_0_category" placeholder="e.g., Programming Languages, Frameworks, Spoken Languages">
                    </div>
                    <div class="form-group">
                        <label>Skills:</label>
                        <input type="text" name="skill_0_skills" placeholder="Comma-separated list (e.g., Python, Java, JavaScript)">
                    </div>
                </div>
            </div>
            <button type="button" class="btn btn-secondary" id="addSkill">Add skill</button>
        </section>

        <!-- Projects/Research -->
        <section class="form-section" id="projectsSection">
            <h2 class="section-title">Project/Research</h2>
            <div class="project-entry" data-index="0">
                <div class="form-row">
                    <div class="form-group">
                        <label>Title:</label>
                        <input type="text" name="project_0_title">
                    </div>
                    <div class="form-group">
                        <label>Name:</label>
                        <input type="text" name="project_0_name" placeholder="e.g., CS Senior Capstone, Personal Project">
                    </div>
                </div>
                <div class="bullets-container" data-entry-index="0">
                    <div class="form-row" data-bullet-index="0">
                        <div class="form-group full-width">
                            <label>Bullet point:</label>
                            <input type="text" name="project_0_bullet_0" placeholder="Describe the project...">
                        </div>
                        <div class="form-group" style="flex: 0 0 auto; align-self: flex-end; padding-top: 1.5rem;">
                            <button type="button" class="btn btn-small" onclick="removeBulletPoint(this, 0, 'project')">Delete</button>
                        </div>
                    </div>
                    <div class="form-row" data-bullet-index="1">
                        <div class="form-group full-width">
                            <label>Bullet point:</label>
                            <input type="text" name="project_0_bullet_1" placeholder="Describe the project...">
                        </div>
                        <div class="form-group" style="flex: 0 0 auto; align-self: flex-end; padding-top: 1.5rem;">
                            <button type="button" class="btn btn-small" onclick="removeBulletPoint(this, 0, 'project')">Delete</button>
                        </div>
                    </div>
                </div>
                <button type="button" class="btn btn-small" onclick="addBulletPoint(0, 'project')">Add bullet point</button>
            </div>
            <button type="button" class="btn btn-secondary" id="addProject">Add Project/experience</button>
        </section>

        <!-- Hidden fields for counts -->
        <input type="hidden" name="education_count" id="education_count" value="1">
        <input type="hidden" name="experience_count" id="experience_count" value="1">
        <input type="hidden" name="skills_count" id="skills_count" value="1">
        <input type="hidden" name="projects_count" id="projects_count" value="1">

        <!-- Submit Button -->
        <div class="form-actions">
            <button type="submit" class="btn btn-primary btn-large">Choose a template</button>
        </div>
    </form>
</div>
{% endblock %}

{% block extra_js %}
    <script src="{{ url_for('static', filename='js/resume_form.js') }}"></script>
{% endblock %}

